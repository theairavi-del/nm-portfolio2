<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mirage | Nico Maggioli</title>
    <link rel="icon" type="image/png" sizes="32x32" href="./nm_fav.png" />
    <link rel="stylesheet" href="./styles.css" />
    <style>
      .project-detail { max-width: 1400px; margin: 0 auto; padding: 40px 68px 64px; }
      @media (max-width: 1400px) { .project-detail { padding: 40px 32px 64px; } }
      @media (max-width: 640px) { .project-detail { padding: 40px 14px 64px; } }
      .project-info { display: grid; grid-template-columns: 1fr 1fr; gap: 60px; margin: 30px 0 60px; }
      @media (max-width: 768px) { .project-info { grid-template-columns: 1fr; gap: 30px; } }
      .project-title { font-size: 42px; font-weight: 600; margin: 0 0 20px; color: var(--text); letter-spacing: -0.02em; }
      .project-description { font-size: 16px; line-height: 1.7; color: var(--muted); margin: 0; }
      .project-meta { display: grid; grid-template-columns: repeat(2, 1fr); gap: 24px; }
      .meta-item dt { font-size: 12px; text-transform: uppercase; letter-spacing: 1px; color: var(--muted-2); margin-bottom: 6px; }
      .meta-item dd { font-size: 15px; color: var(--text); margin: 0; }
      .section-divider { height: 1px; background: var(--line); margin: 0 0 40px; }
      .gallery-title { font-size: 14px; text-transform: uppercase; letter-spacing: 1px; color: var(--muted-2); margin: 0 0 24px; }
      
      /* Masonry Gallery - same as work page */
      .project-gallery { 
        column-count: 4; 
        column-gap: 18px; 
        margin-bottom: 60px; 
      }
      @media (max-width: 1200px) { .project-gallery { column-count: 3; } }
      @media (max-width: 940px) { .project-gallery { column-count: 2; } }
      @media (max-width: 640px) { .project-gallery { column-count: 2; } }
      
      .gallery-item { 
        break-inside: avoid; 
        margin-bottom: 18px; 
        background: var(--card-bg); 
        border: 1px solid var(--line); 
        overflow: hidden; 
        cursor: pointer; 
        transform-style: preserve-3d;
        transform: perspective(900px) rotateX(var(--pin-rx, 0deg)) rotateY(var(--pin-ry, 0deg)) scale(var(--pin-scale, 1));
        transition: transform 140ms ease, box-shadow 140ms ease;
        will-change: transform;
      }
      .gallery-item:hover { box-shadow: 0 0 0 1px rgba(150, 156, 178, 0.34); }
      .gallery-item img, .gallery-item video { width: 100%; height: auto; display: block; pointer-events: none; }
      
      .project-nav { display: flex; justify-content: space-between; align-items: center; padding: 30px 0; border-top: 1px solid var(--line); }
      .nav-links { display: flex; gap: 40px; }
      .nav-link { display: flex; flex-direction: column; text-decoration: none; color: var(--text); transition: color 150ms ease; }
      .nav-link:hover { color: #fff; }
      .nav-link span { font-size: 12px; text-transform: uppercase; letter-spacing: 1px; color: var(--muted-2); margin-bottom: 4px; }
      .nav-link strong { font-size: 16px; font-weight: 500; }
      .back-link { padding: 12px 24px; background: var(--chip); color: var(--text); text-decoration: none; font-size: 14px; font-weight: 500; transition: background 150ms ease; border: 1px solid var(--line); }
      .back-link:hover { background: var(--chip-hover); }
    </style>
  </head>
  <body>
    <div class="app-shell">
      <header class="topbar">
        <div class="topbar-left">
          <a class="brand-mark" href="/work"><img src="./logo-nm.png" alt="Nico Maggioli logo" loading="eager" /></a>
          <a class="search-link" href="/work">Nico Maggioli</a>
        </div>
        <div class="topbar-right">
          <nav class="top-nav">
            <a class="top-nav-link" href="/work">Work</a>
            <a class="top-nav-link is-active" href="/projects">Projects</a>
            <a class="top-nav-link" href="/about">About</a>
            <a class="top-nav-link" href="/contact">Contact</a>
          </nav>
        </div>
      </header>

      <main class="project-detail">
        <div class="project-info">
          <div>
            <h1 class="project-title">Mirage</h1>
            <p class="project-description">An immersive entertainment brand that blurs the line between reality and imagination.</p>
          </div>
          <dl class="project-meta">
            <div class="meta-item"><dt>Year</dt><dd>2024</dd></div>
            <div class="meta-item"><dt>Category</dt><dd>Selected Work</dd></div>
            <div class="meta-item"><dt>Services</dt><dd>Visual Design, 3D Art</dd></div>
            <div class="meta-item"><dt>Role</dt><dd>Creative Director</dd></div>
          </dl>
        </div>

        <div class="section-divider"></div>
        <h2 class="gallery-title">Project Gallery</h2>

        <div class="project-gallery">
                    <div class="gallery-item" data-tilt><img src="./media/mirage/1.png" alt="Mirage" loading="lazy" /></div>
          <div class="gallery-item" data-tilt><img src="./media/mirage/2.png" alt="Mirage" loading="lazy" /></div>
          <div class="gallery-item" data-tilt><img src="./media/mirage/3IOJgg9PG5IsHPhDed0qRHGJg.jpg" alt="Mirage" loading="lazy" /></div>
          <div class="gallery-item" data-tilt><img src="./media/mirage/3.png" alt="Mirage" loading="lazy" /></div>
          <div class="gallery-item" data-tilt><img src="./media/mirage/4.png" alt="Mirage" loading="lazy" /></div>
          <div class="gallery-item" data-tilt><img src="./media/mirage/5.png" alt="Mirage" loading="lazy" /></div>
          <div class="gallery-item" data-tilt><img src="./media/mirage/6.jpg" alt="Mirage" loading="lazy" /></div>
          <div class="gallery-item" data-tilt><img src="./media/mirage/7.jpg" alt="Mirage" loading="lazy" /></div>
          <div class="gallery-item" data-tilt><img src="./media/mirage/8.jpg" alt="Mirage" loading="lazy" /></div>
          <div class="gallery-item" data-tilt><img src="./media/mirage/9.jpg" alt="Mirage" loading="lazy" /></div>
          <div class="gallery-item" data-tilt><img src="./media/mirage/10.png" alt="Mirage" loading="lazy" /></div>
          <div class="gallery-item" data-tilt><img src="./media/mirage/11.webp" alt="Mirage" loading="lazy" /></div>
          <div class="gallery-item" data-tilt><img src="./media/mirage/X95IgPNY7T2scTr8FhFTCVBsG24.png" alt="Mirage" loading="lazy" /></div>

        </div>

        <nav class="project-nav">
          <div class="nav-links">
            <a href="./voiage.html" class="nav-link">
              <span>Previous</span>
              <strong>Voiage</strong>
            </a>
          </div>
          <a href="/projects" class="back-link">Back to Projects</a>
          <div class="nav-links">
            <a href="./oxa.html" class="nav-link">
              <span>Next</span>
              <strong>OXA</strong>
            </a>
          </div>
        </nav>
      </main>
    </div>
    <script>
      const CARD_TILT_MAX_DEGREES = 7, HAS_FINE_POINTER = window.matchMedia('(hover: hover) and (pointer: fine)').matches;
      function setupCardTilt(el) {
        if (!HAS_FINE_POINTER || !el) return;
        let animationFrameId = 0, nextRotateX = 0, nextRotateY = 0;
        const commit = () => { animationFrameId = 0; el.style.setProperty('--pin-rx', `${nextRotateX.toFixed(2)}deg`); el.style.setProperty('--pin-ry', `${nextRotateY.toFixed(2)}deg`); el.style.setProperty('--pin-scale', '1.02'); };
        el.addEventListener('pointermove', (e) => { const rect = el.getBoundingClientRect(); if (!rect.width || !rect.height) return; const xRatio = (e.clientX - rect.left) / rect.width, yRatio = (e.clientY - rect.top) / rect.height; nextRotateY = (xRatio - 0.5) * CARD_TILT_MAX_DEGREES * 2; nextRotateX = (0.5 - yRatio) * CARD_TILT_MAX_DEGREES * 2; if (!animationFrameId) animationFrameId = window.requestAnimationFrame(commit); });
        const reset = () => { if (animationFrameId) { window.cancelAnimationFrame(animationFrameId); animationFrameId = 0; } el.style.setProperty('--pin-rx', '0deg'); el.style.setProperty('--pin-ry', '0deg'); el.style.setProperty('--pin-scale', '1'); };
        el.addEventListener('pointerleave', reset); el.addEventListener('pointercancel', reset); el.addEventListener('pointerdown', () => el.style.setProperty('--pin-scale', '1.01')); el.addEventListener('pointerup', () => el.style.setProperty('--pin-scale', '1.02'));
      }
      document.querySelectorAll('.gallery-item[data-tilt]').forEach(setupCardTilt);
    </script>
  </body>
</html>